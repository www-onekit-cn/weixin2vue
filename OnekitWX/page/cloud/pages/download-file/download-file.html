<!--#include virtual="/page/cloud/pages/download-file/download-file.htm"-->
<!--#include file="../../../common/head.html"-->

<!--#include file="../../../common/foot.html"-->


<wx-view  class="container">
  <template id="onekit_head"></template>
<script>

    new Vue({
        el: "#onekit_head",
        data: {title: 'downloadFile'},
        template: '#head'
    })
</script>

  <wx-view  class="page-body">
    <wx-view  class="page-section">
      <template  v-if="fileDownloaded">
        <wx-view  class="weui-cells weui-cells_after-title">
          <wx-view  class="weui-cell weui-cell_input">
            <wx-view  class="weui-cell__hd">
              <wx-view  class="weui-label">文件 ID</wx-view>
            </wx-view>
            <wx-view  class="weui-cell__bd">
              <wx-textarea  class="weui-textarea" :value="fileId" style="height: 3.3em" disabled=""></wx-textarea>
            </wx-view>
          </wx-view>

          <wx-view  class="weui-cell">
            <wx-view  class="page-section-ctn">
              <wx-image  :src="filePath" class="image" mode="aspectFit"></wx-image>
            </wx-view>
          </wx-view>
        </wx-view>
        
      </template>

      <template  v-else="">
        <wx-view  class="weui-cells__title">点击按钮即可从云端存储下载指定云文件</wx-view>
        <wx-view  class="weui-cells weui-cells_after-title">
          <wx-view  class="weui-cell weui-cell_input">
            <wx-view  class="weui-cell__hd">
              <wx-view  class="weui-label">文件 ID</wx-view>
            </wx-view>
            <wx-view  class="weui-cell__bd">
              <wx-textarea  class="weui-textarea" :value="fileId" style="height: 3.3em" disabled=""></wx-textarea>
            </wx-view>
          </wx-view>
        </wx-view>

        <wx-view  class="btn-area">
          <wx-button  type="primary" size="40" @bindtap="downloadFile" :loading="loading">下载文件</wx-button>
        </wx-view>
      </template>
    </wx-view>
  </wx-view>

  <template id="onekit_foot"></template>
<script>

    new Vue({
        el: "#onekit_foot",
        data: {},
        template: '#foot'
    })
</script>
</wx-view>
<!--#include virtual="/OnekitWX/footer.html"-->