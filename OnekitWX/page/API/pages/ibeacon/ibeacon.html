<!--#include virtual="/page/API/pages/ibeacon/ibeacon.htm"-->
<!--#include file="../../../common/head.html"-->

<!--#include file="../../../common/foot.html"-->


<wx-view  class="container">
  <template id="onekit_head"></template>
<script>

    new Vue({
        el: "#onekit_head",
        data: {title: 'iBeacon'},
        template: '#head'
    })
</script>

  <wx-view  class="page-body">
    <wx-view  class="page-section">
      <wx-view  class="weui-cells__title">输入iBeacon设备广播的UUID</wx-view>
      <wx-view  class="weui-cells weui-cells_after-title">
        <wx-view  class="weui-cell weui-cell_input">
          <wx-input  class="weui-input" @bindinput="enterUuid"></wx-input>
        </wx-view>
      </wx-view>
    </wx-view>
    <wx-view  class="btn-area">
      <wx-button  type="primary" @bindtap="startSearch">搜索iBeacon</wx-button>
      <wx-button  @bindtap="stopSearch">停止搜索</wx-button>
    </wx-view>
    <wx-view  class="page-body-info">
      <wx-view  class="devices_summary">已发现 {{beacons.length}} 个外围设备：</wx-view>
      <wx-scroll-view  class="device_list" scroll-y="" scroll-with-animation="">
        <wx-view  :wx:for="beacons" class="device_item" hover-class="device_item_hover">
          <wx-view  style="font-size: 16px; color: #333;">主ID: {{item.major}} <wx-text  style="font-size: 12px;">次ID: {{item.minor}}</wx-text></wx-view>
          <wx-view  style="font-size: 10px">信号强度: {{item.rssi}}dBm</wx-view>
          <wx-view  style="font-size: 10px">UUID: {{item.uuid}}</wx-view>
          <wx-view  style="font-size: 10px">Proximity: {{item.proximity}} Accuracy: {{item.accuracy}}</wx-view>
        </wx-view>
      </wx-scroll-view>
    </wx-view>
  </wx-view>

  <template id="onekit_foot"></template>
<script>

    new Vue({
        el: "#onekit_foot",
        data: {},
        template: '#foot'
    })
</script>
</wx-view>

<!--#include virtual="/OnekitWX/footer.html"-->