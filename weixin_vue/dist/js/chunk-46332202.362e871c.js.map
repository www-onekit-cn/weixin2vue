{"version":3,"sources":["webpack:///./src/packageCloud/pages/scf-database/scf-database.css?3972","webpack:///./src/onekit/onekit.css?0630","webpack:///./src/packageCloud/pages/scf-database/scf-database.vue?691a","webpack:///./src/packageCloud/pages/scf-database/scf-database.js","webpack:///./src/packageCloud/pages/scf-database/scf-database.js?603c","webpack:///./src/packageCloud/pages/scf-database/scf-database.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","theme","_e","directives","name","rawName","value","expression","clientLoading","on","queryServerDataViaClient","cloudLoading","queryServerDataViaCloudFunction","staticRenderFns","OnekitPage","onShareAppMessage","title","path","data","serverDataClient","serverDataClientError","serverDataCloud","serverDataCloudError","onLoad","setData","wx","getSystemInfoSync","onThemeChange","db","cloud","database","collection","where","_openid","get","success","res","resFirstData","console","log","fail","err","error","complete","callFunction","result","component"],"mappings":"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","file":"js/chunk-46332202.362e871c.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./scf-database.css?vue&type=style&index=1&id=fd7ed67a&scoped=scoped&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./scf-database.css?vue&type=style&index=1&id=fd7ed67a&scoped=scoped&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./onekit.css?vue&type=style&index=0&id=fd7ed67a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./onekit.css?vue&type=style&index=0&id=fd7ed67a&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('onekit-page',[_c('import',{attrs:{\"src\":\"../../../common/head.vue\"}}),_c('import',{attrs:{\"src\":\"../../../common/foot.vue\"}}),_c('onekit-view',{staticClass:\"container\"},[_c('onekit-view',{staticClass:\"page-body\"},[_c('onekit-view',{staticClass:\"page-section\"},[_c('onekit-view',{staticClass:\"weui-cells__title\"},[_c('onekit-view',[_vm._v(\"云函数为管理端，通过调用云函数可操作原先在小程序端无法操作的数据。\")]),_c('onekit-view',[_vm._v(\"后台流水数据：权限为仅管理端可写\")])],1),_c('onekit-view',{staticClass:\"weui-cells weui-cells_after-title\"},[_c('onekit-view',{staticClass:\"page-body-info\"},[_c('onekit-view',{staticClass:\"progress-figure\"},[(_vm.theme === 'dark')?_c('onekit-image',{staticClass:\"progress-icon\",attrs:{\"src\":\"/page/API/resources/kind/device_dark.png\"}}):_c('onekit-image',{staticClass:\"progress-icon\",attrs:{\"src\":\"/page/API/resources/kind/device.png\"}}),_vm._v(\"\\\"+' '+serverDataClient && \\\"success\\\"+' '+serverDataClientError && \\\"fail\\\"\\\">\"),(_vm.theme === 'dark')?_c('onekit-image',{staticClass:\"progress-icon\",attrs:{\"src\":\"/page/cloud/resources/kind/database_dark.png\"}}):_c('onekit-image',{staticClass:\"progress-icon\",attrs:{\"src\":\"/page/cloud/resources/kind/database.png\"}})],1),_c('onekit-view',{staticClass:\"data-area\"},[(_vm.serverDataClient)?_c('onekit-view',{staticClass:\"data-text\"},[_c('onekit-icon',{attrs:{\"type\":\"success\"}}),_c('onekit-text',[_vm._v(\"获取成功\")])],1):_vm._e(),_c('onekit-view',{directives:[{name:\"elif\",rawName:\"v-elif\",value:(_vm.serverDataClientError),expression:\"serverDataClientError\"}],staticClass:\"data-text\"},[_c('onekit-icon',{attrs:{\"type\":\"warn\",\"color\":\"#F43530\"}}),_c('onekit-text',[_vm._v(\"获取失败\")])],1)],1),_c('onekit-view',{staticClass:\"btn-area\"},[_c('onekit-button',{attrs:{\"loading\":_vm.clientLoading},on:{\"tap\":_vm.queryServerDataViaClient}},[_vm._v(\"小程序端获取后台流水数据\")])],1)],1)],1),_c('onekit-view',{staticClass:\"weui-cells__title\"}),_c('onekit-view',{staticClass:\"weui-cells weui-cells_after-title\"},[_c('onekit-view',{staticClass:\"page-body-info\"},[_c('onekit-view',{staticClass:\"progress-figure\"},[(_vm.theme === 'dark')?_c('onekit-image',{staticClass:\"progress-icon\",attrs:{\"src\":\"/page/API/resources/kind/device_dark.png\"}}):_c('onekit-image',{staticClass:\"progress-icon\",attrs:{\"src\":\"/page/API/resources/kind/device.png\"}}),_vm._v(\"\\\"+' '+serverDataCloud && \\\"success\\\"+' '+serverDataCloudError && \\\"fail\\\"\\\">\"),(_vm.theme === 'dark')?_c('onekit-image',{staticClass:\"progress-icon\",attrs:{\"src\":\"/page/cloud/resources/kind/scf_dark.png\"}}):_c('onekit-image',{staticClass:\"progress-icon\",attrs:{\"src\":\"/page/cloud/resources/kind/scf.png\"}}),_vm._v(\"\\\"+' '+serverDataCloud && \\\"success\\\"+' '+serverDataCloudError && \\\"fail\\\"\\\">\"),(_vm.theme === 'dark')?_c('onekit-image',{staticClass:\"progress-icon\",attrs:{\"src\":\"/page/cloud/resources/kind/database_dark.png\"}}):_c('onekit-image',{staticClass:\"progress-icon\",attrs:{\"src\":\"/page/cloud/resources/kind/database.png\"}})],1),_c('onekit-view',{staticClass:\"data-area\"},[(_vm.serverDataCloud)?_c('onekit-view',{staticClass:\"data-text\"},[_c('onekit-icon',{attrs:{\"type\":\"success\"}}),_c('onekit-text',[_vm._v(\"获取成功\")])],1):_vm._e(),_c('onekit-view',{directives:[{name:\"elif\",rawName:\"v-elif\",value:(_vm.serverDataCloudError),expression:\"serverDataCloudError\"}],staticClass:\"data-text\"},[_c('onekit-icon',{attrs:{\"type\":\"warn\",\"color\":\"#F43530\"}}),_c('onekit-text',[_vm._v(\"获取失败\")])],1)],1),_c('onekit-view',{staticClass:\"btn-area\"},[_c('onekit-button',{attrs:{\"loading\":_vm.cloudLoading},on:{\"tap\":_vm.queryServerDataViaCloudFunction}},[_vm._v(\"调用云函数获取后台流水数据\")])],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import PAGE_JSON from './scf-database.json';\nimport {OnekitApp,OnekitPage,OnekitComponent} from \"../../../onekit/onekit.js\";\nimport wx from \"../../../onekit/wx.js\";\nOnekitPage({\n    onShareAppMessage:function(){\n        return {\n            title:'云函数操作数据库',\n            path:'page/cloud/pages/scf-database/scf-database'\n        };\n    },\n    data:{\n        serverDataClient:'',\n        serverDataClientError:false,\n        serverDataCloud:'',\n        serverDataCloudError:false,\n        clientLoading:false,\n        cloudLoading:false,\n        theme:'light'\n    },\n    onLoad:function(){\n        this.setData({\n            theme:wx.getSystemInfoSync().theme || 'light'\n        });\n        if(wx.onThemeChange){\n            wx.onThemeChange(({theme})=>{this.setData({\n                theme:theme\n            })});\n        }\n    },\n    queryServerDataViaClient:function(){\n        const db = wx.cloud.database();\n        this.setData({\n            clientLoading:true,\n            serverDataClient:'',\n            serverDataClientError:false\n        });\n        db.collection('perm4').where({\n    _openid:'server'\n}).get({\n            success:(res)=>{\n                const resFirstData = (res.data && res.data[0]) || {};\n                this.setData({\n                    serverDataClient:resFirstData.data\n                });\n                console.log('[数据库] [查询记录] 成功: ',res);\n            },\n            fail:(err)=>{\n                this.setData({\n                    serverDataClientError:true\n                });\n                console.error('[数据库] [查询记录] 失败：',err);\n            },\n            complete:()=>{this.setData({\n                clientLoading:false\n            })}\n        });\n    },\n    queryServerDataViaCloudFunction:function(){\n        this.setData({\n            cloudLoading:true,\n            serverDataCloud:'',\n            serverDataCloudError:false\n        });\n        wx.cloud.callFunction({\n            name:'getServerDataDemo',\n            data:{},\n            success:(res)=>{\n                console.log('[云函数] [getServerDataDemo] res: ',res.result);\n                const resFirstData = (res.result.data && res.result.data[0]) || {};\n                this.setData({\n                    serverDataCloud:resFirstData.data\n                });\n            },\n            fail:(err)=>{\n                this.setData({\n                    serverDataCloudError:true\n                });\n                console.error('[云函数] [getServerDataDemo] 调用失败',err);\n            },\n            complete:()=>{this.setData({\n                cloudLoading:false\n            })}\n        });\n    }\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/eslint-loader/index.js??ref--13-0!./scf-database.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/eslint-loader/index.js??ref--13-0!./scf-database.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./scf-database.vue?vue&type=template&id=fd7ed67a&scoped=true&\"\nimport script from \"./scf-database.js?vue&type=script&lang=js&\"\nexport * from \"./scf-database.js?vue&type=script&lang=js&\"\nimport style0 from \"@/onekit/onekit.css?vue&type=style&index=0&id=fd7ed67a&scoped=true&lang=css&\"\nimport style1 from \"./scf-database.css?vue&type=style&index=1&id=fd7ed67a&scoped=scoped&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fd7ed67a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}