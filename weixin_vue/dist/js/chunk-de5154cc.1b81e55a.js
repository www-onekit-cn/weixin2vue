(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-de5154cc"],{"4ead":function(t,e,a){},"73dc":function(t,e,a){},7723:function(t,e,a){"use strict";var o=a("73dc"),n=a.n(o);n.a},"9c25":function(t,e,a){"use strict";var o=a("4ead"),n=a.n(o);n.a},ab64:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("onekit-page",[a("import",{attrs:{src:"../../../common/head.vue"}}),a("import",{attrs:{src:"../../../common/foot.vue"}}),a("onekit-view",{staticClass:"container"},[a("onekit-view",{staticClass:"page-body"},[t.startUDP?a("onekit-view",{staticStyle:{"text-align":"center"}},[t._v(" 本机port: "+t._s(t.port)+" 模拟远程port: "+t._s(t.remote_port)+" ")]):t._e(),t.startUDP?a("onekit-block",[a("onekit-view",{staticClass:"btn-area"},[a("onekit-button",{attrs:{type:"primary"},on:{":tap":t.handleSendMessage}},[t._v(" 本机发送测试 ")])],1),a("onekit-view",{staticClass:"btn-area"},[a("onekit-button",{attrs:{type:"primary"},on:{":tap":t.changeMode}},[t._v(" 远程发送测试 ")])],1),"remote"===t.mode?a("onekit-block",[a("onekit-input",{attrs:{placeholder:"请输入目标主机 IP 地址 默认: 127.0.0.1"},on:{":input":t.handleInputChange}}),a("onekit-view",{staticClass:"btn-area"},[a("onekit-button",{attrs:{type:"primary"},on:{":tap":t.handleSendRemoteMessage}},[t._v(" 发送 ")])],1)],1):t._e(),a("onekit-view",{staticClass:"btn-area"},[a("onekit-button",{attrs:{type:"primary"},on:{":tap":t.handleCloseUDPTap}},[t._v(" 关闭 UDPSocket ")])],1)],1):a("onekit-view",{staticClass:"btn-area"},[a("onekit-button",{attrs:{type:"primary",disabled:!t.canIUse},on:{":tap":t.handleCreateUDPTap}},[t._v(" 开启 UDPSocket ")])],1)],1)],1)],1)},n=[],s=(a("99af"),a("d3b7"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("711f")),r=a("79f0"),c=function(t){var e=new Uint8Array(t),a=String.fromCharCode.apply(null,e),o=decodeURIComponent(escape(a));return o};Object(s["OnekitPage"])({onShareAppMessage:function(){return{title:"UDPSocket",path:"packageAPI/pages/udp-socket/udp-socket"}},data:{port:void 0,remote_port:void 0,startUDP:!1,mode:"local",address:"localhost",canIUse:!0},onLoad:function(){var t=r["a"].canIUse("createUDPSocket");t||(r["a"].showModal({title:"微信版本过低，暂不支持本功能"}),this.setData({canIUse:t}))},handleCreateUDPTap:function(){this.UDPSocket=r["a"].createUDPSocket(),this.remoteUDPSocket=r["a"].createUDPSocket(),this.port=this.UDPSocket.bind(),this.remote_port=this.remoteUDPSocket.bind(),this.setData({port:this.port,remote_port:this.remote_port,startUDP:!0}),this.remoteUDPSocket.onMessage((function(t){var e=t.remoteInfo;console.log(t),r["a"].showModal({title:"IP:".concat(e.address,"发来的信息"),content:c(t.message)})}))},handleCloseUDPTap:function(){this.setData({startUDP:!1,mode:"local"}),console.log(this.data),this.UDPSocket.close(),this.remoteUDPSocket.close()},handleSendRemoteMessage:function(){this.UDPSocket.send({address:this.data.address||"localhost",port:this.remote_port,message:"port[".concat(this.port,"] 向 remote-port[").concat(this.remote_port,"] 发送信息: Hello Wechat!")})},changeMode:function(){this.setData({mode:"remote"})},handleInputChange:function(t){this.setData({address:t.detail.value})},handleSendMessage:function(){this.UDPSocket.send({address:"localhost",port:this.remote_port,message:"port[".concat(this.port,"] 向 remote-port[").concat(this.remote_port,"] 发送信息: Hello Wechat!")})}});var i=void 0,d=(a("7723"),a("9c25"),a("2877")),p=Object(d["a"])(i,o,n,!1,null,"031bb8ea",null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-de5154cc.1b81e55a.js.map