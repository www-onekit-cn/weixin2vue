{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.filter.js","webpack:///./src/packageAPI/pages/media-container/media-container.css?3041","webpack:///./src/onekit/onekit.css?cbc6","webpack:///./src/packageAPI/pages/media-container/media-container.vue?3d31","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./src/packageAPI/pages/media-container/media-container.js","webpack:///./src/packageAPI/pages/media-container/media-container.js?b6aa","webpack:///./src/packageAPI/pages/media-container/media-container.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js"],"names":["$","$filter","filter","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","target","proto","forced","callbackfn","this","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","_v","on","handleChooseVideo","one","_e","two","canIUse","handleExport","targetSrc","staticRenderFns","_arrayWithHoles","arr","Array","isArray","_iterableToArrayLimit","i","Symbol","iterator","Object","_arr","_n","_d","_s","_i","next","done","push","value","err","_nonIterableRest","TypeError","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","OnekitPage","onShareAppMessage","title","path","onLoad","wx","mediaContainer","createMediaContainer","setData","showModal","data","e","that","chooseVideo","sourceType","success","res","console","log","tempFilePath","currentTarget","dataset","video","extractDataSource","source","mt","mediaTrackOne","mediaTrackTwo","showToast","icon","tracks","item","kind","trackMedia","trackAudio","addTrack","export","component","_defineProperty","obj","key","defineProperty","enumerable","configurable","writable"],"mappings":"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","file":"js/chunk-7cee7856.f5c43cdf.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n// Edge 14- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./media-container.css?vue&type=style&index=1&id=16bdc880&scoped=scoped&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./media-container.css?vue&type=style&index=1&id=16bdc880&scoped=scoped&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./onekit.css?vue&type=style&index=0&id=16bdc880&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./onekit.css?vue&type=style&index=0&id=16bdc880&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('onekit-page',[_c('import',{attrs:{\"src\":\"../../../common/head.vue\"}}),_c('import',{attrs:{\"src\":\"../../../common/foot.vue\"}}),_c('onekit-view',{staticClass:\"container\"},[_c('onekit-view',{staticClass:\"page-body\"},[_c('onekit-view',{staticClass:\"page-section\"},[_c('onekit-view',{staticClass:\"page-section-title\"},[_vm._v(\" \\b 源视频 \")])],1),_c('onekit-view',{staticClass:\"page-section\"},[_c('onekit-button',{attrs:{\"type\":\"primary\",\"data-video\":\"one\"},on:{\"tap\":_vm.handleChooseVideo}},[_vm._v(\"选择源视频1\")]),(_vm.one)?_c('onekit-video',{attrs:{\"src\":_vm.one}}):_vm._e()],1),_c('onekit-view',{staticClass:\"page-section\"},[_c('onekit-button',{attrs:{\"type\":\"primary\",\"data-video\":\"two\"},on:{\"tap\":_vm.handleChooseVideo}},[_vm._v(\"选择源视频2\")]),(_vm.two)?_c('onekit-video',{attrs:{\"src\":_vm.two}}):_vm._e()],1),_c('onekit-view',{staticClass:\"btn-area\"},[_c('onekit-button',{attrs:{\"disabled\":!_vm.canIUse,\"type\":\"primary\"},on:{\":tap\":_vm.handleExport}},[_vm._v(\"合成\")])],1),(_vm.targetSrc)?_c('onekit-block',[_c('onekit-view',{staticClass:\"page-section\"},[_c('onekit-view',{staticClass:\"page-section-title\"},[_vm._v(\" \\b \"),_c('onekit-text',[_vm._v(\"合成视频\")])],1),_c('onekit-view',{staticClass:\"page-section-title\"},[_vm._v(\" \\b \"),_c('onekit-text',[_vm._v(\"合成视频轨道为：源视频1视频轨道 + 源视频2音频轨道\")])],1)],1),_c('onekit-view',{staticClass:\"page-section\"},[_c('onekit-video',{attrs:{\"src\":_vm.targetSrc}})],1)],1):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","import PAGE_JSON from './media-container.json';\nimport {OnekitApp,OnekitPage,OnekitComponent} from \"../../../onekit/onekit.js\";\nimport wx from \"../../../onekit/wx.js\";\nOnekitPage({\n    onShareAppMessage:function(){\n        return {\n            title:'音视频合成',\n            path:'packageAPI/pages/media-container/media-container'\n        };\n    },\n    onLoad:function(){\n        const canIUse = wx.canIUse('wx.createMediaContainer()');\n        if(canIUse){\n            this.mediaContainer = wx.createMediaContainer();\n        } else {\n            this.setData({\n                canIUse:false\n            });\n            wx.showModal({\n                title:'微信版本过低，暂不支持本功能'\n            });\n        }\n    },\n    data:{\n        targetSrc:'',\n        one:'',\n        two:'',\n        canIUse:true\n    },\n    handleChooseVideo:function(e){\n        const that = this;\n        wx.chooseVideo({\n            sourceType:[\n                'album',\n                'camera'\n            ],\n            success:function(res){\n                console.log(res.tempFilePath);\n                that.setData({\n                    [e.currentTarget.dataset.video]:res.tempFilePath\n                });\n                if(e.currentTarget.dataset.video === 'one'){\n                    that.mediaContainer.extractDataSource({\n                        source:that.data.one,\n                        success:function(mt){\n                            that.mediaTrackOne = mt;\n                        }\n                    });\n                } else {\n                    that.mediaContainer.extractDataSource({\n                        source:that.data.two,\n                        success:function(mt){\n                            that.mediaTrackTwo = mt;\n                        }\n                    });\n                }\n            }\n        });\n    },\n    handleExport:function(){\n        if((this.data.one === '') || (this.data.two === '')){\n            wx.showToast({\n                title:'请先选择源视频',\n                icon:\"none\"\n            });\n        } else {\n            console.log(this.mediaTrackOne,this.mediaTrackTwo);\n            const [trackMedia] = this.mediaTrackOne.tracks.filter((item)=>item.kind === 'video');\n            const [trackAudio] = this.mediaTrackTwo.tracks.filter((item)=>item.kind === 'audio');\n            console.log(trackMedia,trackAudio);\n            this.mediaContainer.addTrack(trackMedia);\n            this.mediaContainer.addTrack(trackAudio);\n            const that = this;\n            this.mediaContainer.export({\n                success:(res)=>{that.setData({\n                    targetSrc:res.tempFilePath\n                })}\n            });\n        }\n    }\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/eslint-loader/index.js??ref--13-0!./media-container.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/eslint-loader/index.js??ref--13-0!./media-container.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./media-container.vue?vue&type=template&id=16bdc880&scoped=true&\"\nimport script from \"./media-container.js?vue&type=script&lang=js&\"\nexport * from \"./media-container.js?vue&type=script&lang=js&\"\nimport style0 from \"@/onekit/onekit.css?vue&type=style&index=0&id=16bdc880&scoped=true&lang=css&\"\nimport style1 from \"./media-container.css?vue&type=style&index=1&id=16bdc880&scoped=scoped&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"16bdc880\",\n  null\n  \n)\n\nexport default component.exports","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}"],"sourceRoot":""}