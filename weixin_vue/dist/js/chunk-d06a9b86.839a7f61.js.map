{"version":3,"sources":["webpack:///./src/packageAPI/pages/on-accelerometer-change/on-accelerometer-change.css?0f8f","webpack:///./src/onekit/onekit.css?3517","webpack:///./src/packageAPI/pages/on-accelerometer-change/on-accelerometer-change.vue?5b3d","webpack:///./src/packageAPI/pages/on-accelerometer-change/on-accelerometer-change.js","webpack:///./src/packageAPI/pages/on-accelerometer-change/on-accelerometer-change.js?eb2a","webpack:///./src/packageAPI/pages/on-accelerometer-change/on-accelerometer-change.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","_s","x","y","z","enabled","on","startAccelerometer","stopAccelerometer","staticRenderFns","OnekitPage","onShareAppMessage","title","path","data","onReady","drawBigBall","that","position","vx","vy","ax","ay","wx","onAccelerometerChange","res","setData","toFixed","Math","sin","PI","interval","setInterval","drawSmallBall","context","createContext","beginPath","arc","setFillStyle","setStrokeStyle","fill","drawCanvas","canvasId","actions","getActions","p","strokeStyle","sqrt","pow","abs","success","onUnload","clearInterval","component"],"mappings":"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","file":"js/chunk-d06a9b86.839a7f61.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./on-accelerometer-change.css?vue&type=style&index=1&id=5ecbae7c&scoped=scoped&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./on-accelerometer-change.css?vue&type=style&index=1&id=5ecbae7c&scoped=scoped&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./onekit.css?vue&type=style&index=0&id=5ecbae7c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./onekit.css?vue&type=style&index=0&id=5ecbae7c&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('onekit-page',[_c('import',{attrs:{\"src\":\"../../../common/head.vue\"}}),_c('import',{attrs:{\"src\":\"../../../common/foot.vue\"}}),_c('onekit-view',{staticClass:\"container\"},[_c('onekit-view',{staticClass:\"page-body\"},[_c('onekit-view',{staticClass:\"page-section page-section_center\"},[_c('onekit-text',{staticClass:\"page-body-text\"},[_vm._v(\"倾斜手机即可移动下方小球\")]),_c('onekit-view',{staticClass:\"page-body-canvas\"},[_c('onekit-canvas',{staticClass:\"page-body-ball\",attrs:{\"show\":true,\"canvas-id\":\"big-ball\"}}),_c('onekit-canvas',{staticClass:\"page-body-ball\",attrs:{\"show\":true,\"canvas-id\":\"small-ball\"}})],1),_c('onekit-view',{staticClass:\"page-body-xyz\"},[_c('onekit-text',{staticClass:\"page-body-title\"},[_vm._v(\"X: \"+_vm._s(_vm.x))]),_c('onekit-text',{staticClass:\"page-body-title\"},[_vm._v(\"Y: \"+_vm._s(_vm.y))]),_c('onekit-text',{staticClass:\"page-body-title\"},[_vm._v(\"Z: \"+_vm._s(_vm.z))])],1),_c('onekit-view',{staticClass:\"page-body-controls\"},[_c('onekit-button',{attrs:{\"disabled\":_vm.enabled},on:{\"tap\":_vm.startAccelerometer}},[_vm._v(\"开始监听\")]),_c('onekit-button',{attrs:{\"disabled\":!_vm.enabled},on:{\"tap\":_vm.stopAccelerometer}},[_vm._v(\"停止监听\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import PAGE_JSON from './on-accelerometer-change.json';\nimport {OnekitApp,OnekitPage,OnekitComponent} from \"../../../onekit/onekit.js\";\nimport wx from \"../../../onekit/wx.js\";\nOnekitPage({\n    onShareAppMessage:function(){\n        return {\n            title:'监听重力感应数据',\n            path:'packageAPI/pages/on-accelerometer-change/on-accelerometer-change'\n        };\n    },\n    data:{\n        x:0,\n        y:0,\n        z:0,\n        enabled:true\n    },\n    onReady:function(){\n        this.drawBigBall();\n        const that = this;\n        this.position = {\n            x:151,\n            y:151,\n            vx:0,\n            vy:0,\n            ax:0,\n            ay:0\n        };\n        wx.onAccelerometerChange(function(res){\n            that.setData({\n                x:res.x.toFixed(2),\n                y:res.y.toFixed(2),\n                z:res.z.toFixed(2)\n            });\n            that.position.ax = Math.sin((res.x * Math.PI) / 2);\n            that.position.ay = -Math.sin((res.y * Math.PI) / 2);\n        });\n        this.interval = setInterval(function(){\n            that.drawSmallBall();\n        },17);\n    },\n    drawBigBall:function(){\n        const context = wx.createContext();\n        context.beginPath(0);\n        context.arc(151,151,140,0,Math.PI * 2);\n        context.setFillStyle('#ffffff');\n        context.setStrokeStyle('#aaaaaa');\n        context.fill();\n        wx.drawCanvas({\n            canvasId:'big-ball',\n            actions:context.getActions()\n        });\n    },\n    drawSmallBall:function(){\n        const p = this.position;\n        var strokeStyle = 'rgba(1,1,1,0)';\n        p.x += p.vx;\n        p.y += p.vy;\n        p.vx += p.ax;\n        p.vy += p.ay;\n        if(Math.sqrt(Math.pow(Math.abs(p.x) - 151,2) + Math.pow(Math.abs(p.y) - 151,2)) >= 115){\n            if((p.x > 151) && (p.vx > 0)){\n                p.vx = 0;\n            }\n            if((p.x < 151) && (p.vx < 0)){\n                p.vx = 0;\n            }\n            if((p.y > 151) && (p.vy > 0)){\n                p.vy = 0;\n            }\n            if((p.y < 151) && (p.vy < 0)){\n                p.vy = 0;\n            }\n            strokeStyle = '#ff0000';\n        }\n        const context = wx.createContext();\n        context.beginPath(0);\n        context.arc(p.x,p.y,15,0,Math.PI * 2);\n        context.setFillStyle('#1aad19');\n        context.setStrokeStyle(strokeStyle);\n        context.fill();\n        wx.drawCanvas({\n            canvasId:'small-ball',\n            actions:context.getActions()\n        });\n    },\n    startAccelerometer:function(){\n        if(this.data.enabled){\n            return;\n        }\n        const that = this;\n        wx.startAccelerometer({\n            success:function(){\n                that.setData({\n                    enabled:true\n                });\n            }\n        });\n    },\n    stopAccelerometer:function(){\n        if(!this.data.enabled){\n            return;\n        }\n        const that = this;\n        wx.stopAccelerometer({\n            success:function(){\n                that.setData({\n                    enabled:false\n                });\n            }\n        });\n    },\n    onUnload:function(){\n        clearInterval(this.interval);\n    }\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/eslint-loader/index.js??ref--13-0!./on-accelerometer-change.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/eslint-loader/index.js??ref--13-0!./on-accelerometer-change.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./on-accelerometer-change.vue?vue&type=template&id=5ecbae7c&scoped=true&\"\nimport script from \"./on-accelerometer-change.js?vue&type=script&lang=js&\"\nexport * from \"./on-accelerometer-change.js?vue&type=script&lang=js&\"\nimport style0 from \"@/onekit/onekit.css?vue&type=style&index=0&id=5ecbae7c&scoped=true&lang=css&\"\nimport style1 from \"./on-accelerometer-change.css?vue&type=style&index=1&id=5ecbae7c&scoped=scoped&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ecbae7c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}