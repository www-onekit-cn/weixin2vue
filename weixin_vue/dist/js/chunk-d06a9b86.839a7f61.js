(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d06a9b86"],{7946:function(t,a,e){},"8df1":function(t,a,e){"use strict";var s=e("adcd"),n=e.n(s);n.a},a506:function(t,a,e){"use strict";var s=e("7946"),n=e.n(s);n.a},a93e:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("onekit-page",[e("import",{attrs:{src:"../../../common/head.vue"}}),e("import",{attrs:{src:"../../../common/foot.vue"}}),e("onekit-view",{staticClass:"container"},[e("onekit-view",{staticClass:"page-body"},[e("onekit-view",{staticClass:"page-section page-section_center"},[e("onekit-text",{staticClass:"page-body-text"},[t._v("倾斜手机即可移动下方小球")]),e("onekit-view",{staticClass:"page-body-canvas"},[e("onekit-canvas",{staticClass:"page-body-ball",attrs:{show:!0,"canvas-id":"big-ball"}}),e("onekit-canvas",{staticClass:"page-body-ball",attrs:{show:!0,"canvas-id":"small-ball"}})],1),e("onekit-view",{staticClass:"page-body-xyz"},[e("onekit-text",{staticClass:"page-body-title"},[t._v("X: "+t._s(t.x))]),e("onekit-text",{staticClass:"page-body-title"},[t._v("Y: "+t._s(t.y))]),e("onekit-text",{staticClass:"page-body-title"},[t._v("Z: "+t._s(t.z))])],1),e("onekit-view",{staticClass:"page-body-controls"},[e("onekit-button",{attrs:{disabled:t.enabled},on:{tap:t.startAccelerometer}},[t._v("开始监听")]),e("onekit-button",{attrs:{disabled:!t.enabled},on:{tap:t.stopAccelerometer}},[t._v("停止监听")])],1)],1)],1)],1)],1)},n=[],i=(e("cb29"),e("b680"),e("711f")),o=e("79f0");Object(i["OnekitPage"])({onShareAppMessage:function(){return{title:"监听重力感应数据",path:"packageAPI/pages/on-accelerometer-change/on-accelerometer-change"}},data:{x:0,y:0,z:0,enabled:!0},onReady:function(){this.drawBigBall();var t=this;this.position={x:151,y:151,vx:0,vy:0,ax:0,ay:0},o["a"].onAccelerometerChange((function(a){t.setData({x:a.x.toFixed(2),y:a.y.toFixed(2),z:a.z.toFixed(2)}),t.position.ax=Math.sin(a.x*Math.PI/2),t.position.ay=-Math.sin(a.y*Math.PI/2)})),this.interval=setInterval((function(){t.drawSmallBall()}),17)},drawBigBall:function(){var t=o["a"].createContext();t.beginPath(0),t.arc(151,151,140,0,2*Math.PI),t.setFillStyle("#ffffff"),t.setStrokeStyle("#aaaaaa"),t.fill(),o["a"].drawCanvas({canvasId:"big-ball",actions:t.getActions()})},drawSmallBall:function(){var t=this.position,a="rgba(1,1,1,0)";t.x+=t.vx,t.y+=t.vy,t.vx+=t.ax,t.vy+=t.ay,Math.sqrt(Math.pow(Math.abs(t.x)-151,2)+Math.pow(Math.abs(t.y)-151,2))>=115&&(t.x>151&&t.vx>0&&(t.vx=0),t.x<151&&t.vx<0&&(t.vx=0),t.y>151&&t.vy>0&&(t.vy=0),t.y<151&&t.vy<0&&(t.vy=0),a="#ff0000");var e=o["a"].createContext();e.beginPath(0),e.arc(t.x,t.y,15,0,2*Math.PI),e.setFillStyle("#1aad19"),e.setStrokeStyle(a),e.fill(),o["a"].drawCanvas({canvasId:"small-ball",actions:e.getActions()})},startAccelerometer:function(){if(!this.data.enabled){var t=this;o["a"].startAccelerometer({success:function(){t.setData({enabled:!0})}})}},stopAccelerometer:function(){if(this.data.enabled){var t=this;o["a"].stopAccelerometer({success:function(){t.setData({enabled:!1})}})}},onUnload:function(){clearInterval(this.interval)}});var c=void 0,l=(e("a506"),e("8df1"),e("2877")),r=Object(l["a"])(c,s,n,!1,null,"5ecbae7c",null);a["default"]=r.exports},adcd:function(t,a,e){}}]);
//# sourceMappingURL=chunk-d06a9b86.839a7f61.js.map