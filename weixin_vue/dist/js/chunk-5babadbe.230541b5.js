(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5babadbe"],{"2c6c":function(o,e,t){"use strict";var n=t("794f"),i=t.n(n);i.a},"660f":function(o,e,t){},"794f":function(o,e,t){},"7e90":function(o,e,t){"use strict";t.r(e);var n=function(){var o=this,e=o.$createElement,t=o._self._c||e;return t("onekit-page",[t("import",{attrs:{src:"../../../common/head.vue"}}),t("import",{attrs:{src:"../../../common/foot.vue"}}),t("onekit-view",{staticClass:"container"},[t("onekit-view",{staticClass:"page-body"},[t("onekit-view",{staticClass:"page-section"},[t("onekit-button",{attrs:{type:"primary"},on:{":tap":o.startDiscovery}},[o._v(" 开始搜索 mDNS ")]),t("onekit-button",{attrs:{type:"primary"},on:{":tap":o.stopDiscovery}},[o._v(" 停止搜索 mDNS ")]),t("onekit-view",o._l(o.serviceList,(function(e,n){return t("onekit-view",{staticClass:"row"},[t("onekit-text",[o._v("设备服务名："+o._s(e.serviceName))]),t("onekit-text",[o._v("ip地址："+o._s(e.ip)+":"+o._s(e.port))]),t("onekit-text",[o._v("当前服务类型："+o._s(e.serviceType))])],1)})),1)],1)],1)],1)],1)},i=[],c=t("711f"),s=t("79f0"),a=[],r=[];Object(c["OnekitPage"])({onShareAppMessage:function(){return{title:"mdns",path:"packageAPI/pages/mdns/mdns"}},daga:{serviceList:[],resolveFailList:[]},onShow:function(){this.onLocalService()},startDiscovery:function(){s["a"].startLocalServiceDiscovery({serviceType:"_http._tcp.",success:function(o){console.log(o),s["a"].showToast({title:"开启成功",icon:"none",duration:2e3})},fail:function(o){s["a"].showToast({title:"开启失败",icon:"none",duration:2e3}),console.log(o)},complete:function(){console.log("startDiscovery: complete")}})},stopDiscovery:function(){var o=this;s["a"].stopLocalServiceDiscovery({success:function(e){s["a"].showToast({title:"关闭成功",icon:"none",duration:2e3}),a=[],r=[],o.setData({serviceList:[],resolveFailList:[]})},fail:function(){console.log("stopDiscovery: fail"),s["a"].showToast({title:"关闭失败",icon:"none",duration:2e3})},complete:function(){console.log("stopDIscovery: complete")}})},onLocalService:function(){var o=this;s["a"].onLocalServiceFound((function(e){console.log(e),a.push(e),o.setData({serviceList:a})})),s["a"].onLocalServiceResolveFail((function(e){console.log(e),r.push(e),o.setData({resolveFailList:r})})),s["a"].onLocalServiceLost((function(o){console.log(o)})),s["a"].onLocalServiceDiscoveryStop((function(o){console.log("监听到搜索停止事件")}))},offLocalService:function(){console.log("是否执行此部分数据"),s["a"].offLocalServiceFound((function(){console.log("取消监听服务发现事件 成功")})),s["a"].offLocalServiceResolveFail((function(){console.log("取消监听 mDNS 服务解析失败的事件 成功")})),s["a"].offLocalServiceLost((function(){console.log("取消监听服务离开事件 成功")})),s["a"].offLocalServiceDiscoveryStop((function(){console.log("取消监听 mDNS 服务停止搜索的事件 成功")}))}});var l=void 0,v=(t("2c6c"),t("d33f"),t("2877")),f=Object(v["a"])(l,n,i,!1,null,"50766ffb",null);e["default"]=f.exports},d33f:function(o,e,t){"use strict";var n=t("660f"),i=t.n(n);i.a}}]);
//# sourceMappingURL=chunk-5babadbe.230541b5.js.map