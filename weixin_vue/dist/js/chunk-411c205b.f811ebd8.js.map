{"version":3,"sources":["webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./src/packageCloud/pages/db-permission/db-permission.css?bfc4","webpack:///./node_modules/core-js/modules/es.number.constructor.js","webpack:///./src/packageCloud/pages/db-permission/db-permission.vue?e41b","webpack:///./src/packageCloud/pages/db-permission/db-permission.js","webpack:///./src/packageCloud/pages/db-permission/db-permission.js?3db3","webpack:///./src/packageCloud/pages/db-permission/db-permission.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./src/onekit/onekit.css?1161"],"names":["module","exports","requireObjectCoercible","whitespaces","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","String","replace","start","end","trim","DESCRIPTORS","global","isForced","redefine","has","classof","inheritIfRequired","toPrimitive","fails","create","getOwnPropertyNames","f","getOwnPropertyDescriptor","defineProperty","NUMBER","NativeNumber","NumberPrototype","prototype","BROKEN_CLASSOF","toNumber","argument","first","third","radix","maxCode","digits","length","index","code","it","charCodeAt","NaN","slice","parseInt","key","NumberWrapper","value","arguments","dummy","this","valueOf","call","keys","split","j","constructor","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","_v","currentPermissionIndex","permissions","on","onPermissionChange","_s","_l","tabs","item","_e","style","sliderLeft","sliderOffset","activeTabIndex","myWhatsUp","hasMyWhatsUp","bindInput","updateMyWhatsUp","updating","querying","queryMyWhatsUp","adminWhatsUp","updateAdminWhatsUp","queryAdminWhatsUp","directives","name","rawName","expression","myEmail","updateMyEmail","queryMyEmail","adminEmail","updateAdminEmail","queryAdminEmail","product","price","updateProductPrice","queryProduct","serverData","updateServerData","queryServerData","staticRenderFns","app","getApp","sliderWidth","OnekitPage","onShareAppMessage","title","path","data","openid","hasProduct","onLoad","globalData","setData","wx","showLoading","getUserOpenIdViaCloud","then","hideLoading","catch","err","console","error","showModal","content","showCancel","initTabs","tabLength","that","getSystemInfo","success","res","windowWidth","onTabClick","e","currentTarget","offsetLeft","Number","id","oldIndex","newIndex","detail","dataset","showErrorModal","errMsg","toString","indexOf","queryOneByOpenId","collection","options","showError","fail","db","cloud","database","_openid","where","get","log","resFirstData","Error","failCallback","successCallback","complete","updateOneByOpenId","dbData","doc","_id","update","stats","add","whatsUp","updated","email","component","_defineProperty","obj","Object","enumerable","configurable","writable"],"mappings":"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","file":"js/chunk-411c205b.f811ebd8.js","sourcesContent":["// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./db-permission.css?vue&type=style&index=1&id=4ba301c2&scoped=scoped&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./db-permission.css?vue&type=style&index=1&id=4ba301c2&scoped=scoped&lang=css&\"","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.github.io/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.github.io/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('onekit-page',[_c('import',{attrs:{\"src\":\"../../../common/head.vue\"}}),_c('import',{attrs:{\"src\":\"../../../common/foot.vue\"}}),_c('onekit-view',{staticClass:\"container\"},[(_vm.openid)?_c('onekit-view',{staticClass:\"page-body\"},[_c('onekit-view',{staticClass:\"page-section\"},[_c('onekit-view',{staticClass:\"weui-cells weui-cells_after-title\"},[_c('onekit-view',{staticClass:\"weui-cell weui-cell_select\"},[_c('onekit-view',{staticClass:\"weui-cell__hd weui-cell__hd_in-select-after\"},[_c('onekit-view',{staticClass:\"weui-label\"},[_vm._v(\"权限类型\")])],1),_c('onekit-view',{staticClass:\"weui-cell__bd\"},[_c('onekit-picker',{attrs:{\"value\":_vm.currentPermissionIndex,\"range\":_vm.permissions},on:{\"change\":_vm.onPermissionChange}},[_c('onekit-view',{staticClass:\"weui-select permission-select\",attrs:{\"weui-select_in-select-after\":\"\"}},[_vm._v(_vm._s(_vm.permissions[_vm.currentPermissionIndex]))])],1)],1)],1)],1),_c('onekit-view',{staticClass:\"weui-panel\"},[_c('onekit-view',{staticClass:\"weui-panel__bd\"},[(_vm.currentPermissionIndex === 0)?_c('onekit-block',[_c('onekit-view',{staticClass:\"weui-tab\"},[_c('onekit-view',{staticClass:\"weui-navbar\"},_vm._l((_vm.tabs[_vm.currentPermissionIndex]),function(item){return _c('onekit-block',[_vm._v(\"\\\" : \\\"\\\"\\\" @tap=\\\"onTabClick\\\"> \"),_c('onekit-view',{staticClass:\"weui-navbar__title\"},[_vm._v(_vm._s(item))])],1)}),1)],1)],1):_vm._e(),_c('onekit-view',{staticClass:\"weui-navbar__slider\",style:('left: '+_vm.sliderLeft+'px; transform: translateX('+_vm.sliderOffset+'px); -webkit-transform: translateX('+_vm.sliderOffset+'px);')})],1),_c('onekit-view',{staticClass:\"weui-tab__panel\"},[_c('onekit-view',{staticClass:\"weui-tab__content\",attrs:{\"hidden\":_vm.activeTabIndex !== 0}},[_c('onekit-view',{staticClass:\"weui-cells weui-cells_after-title input-area\"},[_c('onekit-view',{staticClass:\"weui-cell weui-cell_input\"},[_c('onekit-view',{staticClass:\"weui-cell__bd\"},[_c('onekit-input',{staticClass:\"weui-input\",attrs:{\"placeholder\":\"请输入个性签名\",\"value\":_vm.myWhatsUp,\"focus\":!_vm.hasMyWhatsUp,\"data-name\":\"myWhatsUp\"},on:{\"input\":_vm.bindInput,\"confirm\":_vm.updateMyWhatsUp}})],1)],1)],1),_c('onekit-view',{staticClass:\"btn-area\"},[_c('onekit-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.updating},on:{\"tap\":_vm.updateMyWhatsUp}},[_vm._v(\"设置个性签名\")]),_c('onekit-button',{attrs:{\"loading\":_vm.querying},on:{\"tap\":_vm.queryMyWhatsUp}},[_vm._v(\"获取个性签名\")])],1)],1),_c('onekit-view',{staticClass:\"weui-tab__content\",attrs:{\"hidden\":_vm.activeTabIndex !== 1}},[_c('onekit-view',{staticClass:\"weui-cells weui-cells_after-title input-area\"},[_c('onekit-view',{staticClass:\"weui-cell weui-cell_input\"},[_c('onekit-view',{staticClass:\"weui-cell__bd\"},[_c('onekit-input',{staticClass:\"weui-input\",attrs:{\"placeholder\":\"请输入个性签名\",\"value\":_vm.adminWhatsUp,\"data-name\":\"adminWhatsUp\"},on:{\"input\":_vm.bindInput}})],1)],1)],1),_c('onekit-view',{staticClass:\"btn-area\"},[_c('onekit-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.updating},on:{\"tap\":_vm.updateAdminWhatsUp}},[_vm._v(\"设置个性签名\")]),_c('onekit-button',{attrs:{\"loading\":_vm.querying},on:{\"tap\":_vm.queryAdminWhatsUp}},[_vm._v(\"获取个性签名\")])],1)],1)],1)],1),_c('onekit-block',{directives:[{name:\"elif\",rawName:\"v-elif\",value:(_vm.currentPermissionIndex === 1),expression:\"currentPermissionIndex === 1\"}]},[_c('onekit-view',{staticClass:\"weui-tab\"},[_c('onekit-view',{staticClass:\"weui-navbar\"},_vm._l((_vm.tabs[_vm.currentPermissionIndex]),function(item){return _c('onekit-block',[_vm._v(\"\\\" : \\\"\\\"\\\" @tap=\\\"onTabClick\\\"> \"),_c('onekit-view',{staticClass:\"weui-navbar__title\"},[_vm._v(_vm._s(item))])],1)}),1)],1)],1),_c('onekit-view',{staticClass:\"weui-navbar__slider\",style:('left: '+_vm.sliderLeft+'px; transform: translateX('+_vm.sliderOffset+'px); -webkit-transform: translateX('+_vm.sliderOffset+'px);')})],1),_c('onekit-view',{staticClass:\"weui-tab__panel\"},[_c('onekit-view',{staticClass:\"weui-tab__content\",attrs:{\"hidden\":_vm.activeTabIndex !== 0}},[_c('onekit-view',{staticClass:\"weui-cells weui-cells_after-title input-area\"},[_c('onekit-view',{staticClass:\"weui-cell weui-cell_input\"},[_c('onekit-view',{staticClass:\"weui-cell__bd\"},[_c('onekit-input',{staticClass:\"weui-input\",attrs:{\"placeholder\":\"请输入邮箱\",\"value\":_vm.myEmail,\"data-name\":\"myEmail\"},on:{\"input\":_vm.bindInput}})],1)],1)],1),_c('onekit-view',{staticClass:\"btn-area\"},[_c('onekit-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.updating},on:{\"tap\":_vm.updateMyEmail}},[_vm._v(\"设置邮箱\")]),_c('onekit-button',{attrs:{\"loading\":_vm.querying},on:{\"tap\":_vm.queryMyEmail}},[_vm._v(\"获取邮箱\")])],1)],1),_c('onekit-view',{staticClass:\"weui-tab__content\",attrs:{\"hidden\":_vm.activeTabIndex !== 1}},[_c('onekit-view',{staticClass:\"weui-cells weui-cells_after-title input-area\"},[_c('onekit-view',{staticClass:\"weui-cell weui-cell_input\"},[_c('onekit-view',{staticClass:\"weui-cell__bd\"},[_c('onekit-input',{staticClass:\"weui-input\",attrs:{\"placeholder\":\"请输入邮箱\",\"value\":_vm.adminEmail,\"data-name\":\"adminEmail\"},on:{\"input\":_vm.bindInput}})],1)],1)],1),_c('onekit-view',{staticClass:\"btn-area\"},[_c('onekit-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.updating},on:{\"tap\":_vm.updateAdminEmail}},[_vm._v(\"设置邮箱\")]),_c('onekit-button',{attrs:{\"loading\":_vm.querying},on:{\"tap\":_vm.queryAdminEmail}},[_vm._v(\"获取邮箱\")])],1)],1)],1)],1):_vm._e(),_c('onekit-block',{directives:[{name:\"elif\",rawName:\"v-elif\",value:(_vm.currentPermissionIndex === 2),expression:\"currentPermissionIndex === 2\"}]},[_c('onekit-view',[_c('onekit-view',{staticClass:\"weui-cells weui-cells_after-title input-area\"},[_c('onekit-view',{staticClass:\"weui-cell weui-cell_input\"},[_c('onekit-view',{staticClass:\"weui-cell__bd\"},[_c('onekit-input',{staticClass:\"weui-input\",attrs:{\"placeholder\":\"请输入商品价格\",\"value\":_vm.product.price,\"data-name\":\"product.price\"},on:{\"input\":_vm.bindInput}})],1)],1)],1),_c('onekit-view',{staticClass:\"btn-area\"},[_c('onekit-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.updating},on:{\"tap\":_vm.updateProductPrice}},[_vm._v(\"设置商品价格\")]),_c('onekit-button',{attrs:{\"loading\":_vm.querying},on:{\"tap\":_vm.queryProduct}},[_vm._v(\"获取商品价格\")])],1)],1)],1),_c('onekit-block',{directives:[{name:\"elif\",rawName:\"v-elif\",value:(_vm.currentPermissionIndex === 3),expression:\"currentPermissionIndex === 3\"}]},[_c('onekit-view',[_c('onekit-view',{staticClass:\"weui-cells weui-cells_after-title input-area\"},[_c('onekit-view',{staticClass:\"weui-cell weui-cell_input\"},[_c('onekit-view',{staticClass:\"weui-cell__bd\"},[_c('onekit-input',{staticClass:\"weui-input\",attrs:{\"placeholder\":\"请输入后台流水数据\",\"value\":_vm.serverData,\"data-name\":\"serverData\"},on:{\"input\":_vm.bindInput}})],1)],1)],1),_c('onekit-view',{staticClass:\"btn-area\"},[_c('onekit-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.updating},on:{\"tap\":_vm.updateServerData}},[_vm._v(\"设置后台流水数据\")]),_c('onekit-button',{attrs:{\"loading\":_vm.querying},on:{\"tap\":_vm.queryServerData}},[_vm._v(\"获取后台流水数据\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import PAGE_JSON from './db-permission.json';\nimport {OnekitApp,OnekitPage,OnekitComponent} from \"../../../onekit/onekit.js\";\nimport wx from \"../../../onekit/wx.js\";\nconst app = getApp();\nconst sliderWidth = 96;\nOnekitPage({\n    onShareAppMessage:function(){\n        return {\n            title:'权限管理',\n            path:'page/cloud/pages/db-permission/db-permission'\n        };\n    },\n    data:{\n        openid:'',\n        permissions:[\n            '仅创建者可写，所有人可读',\n            '仅创建者可读写',\n            '仅管理端可写，所有人可读',\n            '仅管理端可读写'\n        ],\n        currentPermissionIndex:0,\n        tabs:[\n            [\n                '我的个性签名',\n                '阿白的个性签名'\n            ],\n            [\n                '我的邮箱',\n                '阿绿的邮箱'\n            ],\n            [\n            ],\n            [\n            ]\n        ],\n        activeTabIndex:0,\n        sliderOffset:0,\n        sliderLeft:0,\n        querying:false,\n        updating:false,\n        hasMyWhatsUp:false,\n        myWhatsUp:'',\n        adminWhatsUp:'',\n        myEmail:'',\n        adminEmail:'',\n        hasProduct:false,\n        product:{},\n        serverData:''\n    },\n    onLoad:function(){\n        if(app.globalData.openid){\n            this.setData({\n                openid:app.globalData.openid\n            });\n        } else {\n            wx.showLoading({\n                title:'正在初始化...'\n            });\n            app.getUserOpenIdViaCloud().then((openid)=>{\n    this.setData({\n        openid:openid\n    });\n    wx.hideLoading();\n    return openid;\n}).catch((err)=>{\n                console.error(err);\n                wx.hideLoading();\n                wx.showModal({\n                    content:'初始化失败，请检查网络',\n                    showCancel:false\n                });\n            });\n        }\n        const {myWhatsUp,adminWhatsUp,myEmail,adminEmail} = app.globalData;\n        this.setData({\n            hasMyWhatsUp:!!myWhatsUp,\n            myWhatsUp:myWhatsUp || '',\n            adminWhatsUp:adminWhatsUp || '',\n            myEmail:myEmail || '',\n            adminEmail:adminEmail || ''\n        });\n        this.initTabs();\n    },\n    initTabs:function(){\n        const currentPermissionIndex = this.data.currentPermissionIndex;\n        const tabLength = this.data.tabs[currentPermissionIndex].length;\n        const that = this;\n        wx.getSystemInfo({\n            success:function(res){\n                that.setData({\n                    sliderLeft:((res.windowWidth / tabLength) - sliderWidth) / 2,\n                    sliderOffset:(res.windowWidth / tabLength) * that.data.activeTabIndex\n                });\n            }\n        });\n    },\n    onTabClick:function(e){\n        this.setData({\n            sliderOffset:e.currentTarget.offsetLeft,\n            activeTabIndex:Number(e.currentTarget.id)\n        });\n    },\n    onPermissionChange:function(e){\n        const oldIndex = this.data.currentPermissionIndex;\n        const newIndex = Number(e.detail.value);\n        if(oldIndex !== newIndex){\n            this.setData({\n                currentPermissionIndex:Number(newIndex),\n                activeTabIndex:0\n            });\n            this.initTabs();\n        }\n    },\n    bindInput:function(e){\n        const {name} = e.currentTarget.dataset;\n        this.setData({\n            [name]:e.detail.value\n        });\n    },\n    showErrorModal:function(name,err){\n        var errMsg = name + '失败';\n        if(err.toString().indexOf('permission denied') >= 0){\n            errMsg += '：无权限操作';\n        }\n        wx.showModal({\n            content:errMsg,\n            showCancel:false\n        });\n    },\n    queryOneByOpenId:function(collection,openid,options){\n        const {showLoading,showError,success,fail} = options;\n        if(showLoading){\n            this.setData({\n                querying:true\n            });\n        }\n        const db = wx.cloud.database();\n        const _openid = openid || this.data.openid;\n        db.collection(collection).where({\n    _openid:_openid\n}).get({\n            success:(res)=>{\n                console.log('[数据库] [查询记录] 成功: ',res);\n                const resFirstData = res.data[0] || {};\n                if(resFirstData._openid && (resFirstData._openid !== _openid)){\n                    const err = new Error('database permission denied');\n                    if(showError)this.showErrorModal('获取',err)\n                    if(failCallback)failCallback.call(this,err)\n                } else if(successCallback){\n                    successCallback.call(this,res.data[0]);\n                }\n            },\n            fail:(err)=>{\n                if(showError)this.showErrorModal('获取',err)\n                console.error('[数据库] [查询记录] 失败：',err);\n                if(failCallback)failCallback.call(this,err)\n            },\n            complete:()=>{if(showLoading){\n                this.setData({\n                    querying:false\n                });\n            }}\n        });\n    },\n    updateOneByOpenId:function(collection,openid,data,options){\n        const {showLoading,showError,success,fail} = options;\n        if(showLoading){\n            this.setData({\n                updating:true\n            });\n        }\n        const db = wx.cloud.database();\n        this.queryOneByOpenId(collection,openid || '',{\n            success:(dbData)=>{if(dbData){\n                db.collection(collection).doc(dbData._id).update({\n                    data:data,\n                    success:(res)=>{\n                        console.log('[数据库] [更新记录] 成功: ',res);\n                        if(successCallback)successCallback.call(this,res.stats)\n                    },\n                    fail:(err)=>{\n                        if(showError)this.showErrorModal('设置',err)\n                        console.error('[数据库] [更新记录] 失败：',err);\n                        if(failCallback)failCallback.call(this,err)\n                    },\n                    complete:()=>{if(showLoading){\n                        this.setData({\n                            updating:false\n                        });\n                    }}\n                });\n            } else if(!openid || (openid === this.data.openid)){\n                db.collection(collection).add({\n                    data:data,\n                    success:(res)=>{\n                        console.log('[数据库] [新增记录] 成功：',res);\n                        if(successCallback)successCallback.call(this,{\n                            _id:res._id\n                        })\n                    },\n                    fail:(err)=>{\n                        if(showError)this.showErrorModal('设置',err)\n                        console.error('[数据库] [新增记录] 失败：',err);\n                        if(failCallback)failCallback.call(this,err)\n                    },\n                    complete:()=>{if(showLoading){\n                        this.setData({\n                            updating:false\n                        });\n                    }}\n                });\n            } else {\n                const err = new Error('database permission denied');\n                if(showError)this.showErrorModal('设置',err)\n                if(failCallback)failCallback.call(this,err)\n                if(showLoading){\n                    this.setData({\n                        updating:false\n                    });\n                }\n            }},\n            fail:(err)=>{\n                if(showError)this.showErrorModal('设置',err)\n                if(failCallback)failCallback.call(this,err)\n                if(showLoading){\n                    this.setData({\n                        updating:false\n                    });\n                }\n            }\n        });\n    },\n    queryMyWhatsUp:function(){\n        this.queryOneByOpenId('perm1','',{\n            showLoading:true,\n            showError:true,\n            success:(data)=>{\n                const content = (data && data.whatsUp) || '';\n                wx.showModal({\n                    title:'获取成功',\n                    content:content?'个性签名为：' + content:'个性签名为空',\n                    showCancel:false\n                });\n            }\n        });\n    },\n    updateMyWhatsUp:function(){\n        const data = {\n            whatsUp:this.data.myWhatsUp\n        };\n        this.updateOneByOpenId('perm1','',data,{\n            showLoading:true,\n            showError:true,\n            success:()=>{\n                app.globalData.myWhatsUp = this.data.myWhatsUp;\n                this.setData({\n                    hasMyWhatsUp:true\n                });\n                wx.showModal({\n                    content:'设置成功',\n                    showCancel:false\n                });\n            }\n        });\n    },\n    queryAdminWhatsUp:function(){\n        this.queryOneByOpenId('perm1','kiki',{\n            showLoading:true,\n            showError:true,\n            success:(data)=>{\n                const content = (data && data.whatsUp) || '';\n                wx.showModal({\n                    title:'获取成功',\n                    content:content?'个性签名为：' + content:'个性签名为空',\n                    showCancel:false\n                });\n            }\n        });\n    },\n    updateAdminWhatsUp:function(){\n        const data = {\n            whatsUp:this.data.adminWhatsUp\n        };\n        this.updateOneByOpenId('perm1','kiki',data,{\n            showLoading:true,\n            showError:true,\n            success:(res)=>{if(res.updated === 0){\n                wx.showModal({\n                    content:'设置失败：无权限操作',\n                    showCancel:false\n                });\n            } else {\n                app.globalData.adminWhatsUp = this.data.adminWhatsUp;\n                wx.showModal({\n                    content:'设置成功',\n                    showCancel:false\n                });\n            }}\n        });\n    },\n    queryMyEmail:function(){\n        this.queryOneByOpenId('perm2','',{\n            showLoading:true,\n            showError:true,\n            success:(data)=>{\n                const content = (data && data.email) || '';\n                wx.showModal({\n                    title:'获取成功',\n                    content:content?'邮箱为：' + content:'邮箱为空',\n                    showCancel:false\n                });\n            }\n        });\n    },\n    updateMyEmail:function(){\n        const data = {\n            email:this.data.myEmail\n        };\n        this.updateOneByOpenId('perm2','',data,{\n            showLoading:true,\n            showError:true,\n            success:()=>{\n                app.globalData.myEmail = this.data.myEmail;\n                wx.showModal({\n                    content:'设置成功',\n                    showCancel:false\n                });\n            }\n        });\n    },\n    queryAdminEmail:function(){\n        this.queryOneByOpenId('perm2','popo',{\n            showLoading:true,\n            showError:true,\n            success:(data)=>{\n                const content = (data && data.email) || '';\n                wx.showModal({\n                    title:'获取成功',\n                    content:content?'邮箱为：' + content:'邮箱为空',\n                    showCancel:false\n                });\n            }\n        });\n    },\n    updateAdminEmail:function(){\n        const data = {\n            email:this.data.adminEmail\n        };\n        this.updateOneByOpenId('perm2','popo',data,{\n            showLoading:true,\n            showError:true,\n            success:()=>{\n                app.globalData.adminEmail = this.data.adminEmail;\n                wx.showModal({\n                    content:'设置成功',\n                    showCancel:false\n                });\n            }\n        });\n    },\n    queryProduct:function(){\n        this.queryOneByOpenId('perm3','admin',{\n            showLoading:true,\n            showError:true,\n            success:(data)=>{\n                const price = (data && data.price) || null;\n                wx.showModal({\n                    title:'获取成功',\n                    content:price !== null?'商品价格为：' + price:'商品价格暂未设置',\n                    showCancel:false\n                });\n            }\n        });\n    },\n    updateProductPrice:function(){\n        const data = {\n            price:parseInt(this.data.product.price,10)\n        };\n        this.updateOneByOpenId('perm3','admin',data,{\n            showLoading:true,\n            showError:true,\n            success:()=>{wx.showModal({\n                content:'设置成功',\n                showCancel:false\n            })}\n        });\n    },\n    queryServerData:function(){\n        this.queryOneByOpenId('perm4','server',{\n            showLoading:true,\n            showError:true,\n            success:(data)=>{\n                const content = (data && data.serverData) || '';\n                wx.showModal({\n                    title:'获取成功',\n                    content:content?'后台流水数据为：' + content:'后台流水数据为空',\n                    showCancel:false\n                });\n            }\n        });\n    },\n    updateServerData:function(){\n        const data = {\n            data:this.data.serverData\n        };\n        this.updateOneByOpenId('perm4','server',data,{\n            showLoading:true,\n            showError:true,\n            success:()=>{wx.showModal({\n                content:'设置成功',\n                showCancel:false\n            })}\n        });\n    }\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/eslint-loader/index.js??ref--13-0!./db-permission.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/eslint-loader/index.js??ref--13-0!./db-permission.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./db-permission.vue?vue&type=template&id=4ba301c2&scoped=true&\"\nimport script from \"./db-permission.js?vue&type=script&lang=js&\"\nexport * from \"./db-permission.js?vue&type=script&lang=js&\"\nimport style0 from \"@/onekit/onekit.css?vue&type=style&index=0&id=4ba301c2&scoped=true&lang=css&\"\nimport style1 from \"./db-permission.css?vue&type=style&index=1&id=4ba301c2&scoped=scoped&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ba301c2\",\n  null\n  \n)\n\nexport default component.exports","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./onekit.css?vue&type=style&index=0&id=4ba301c2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./onekit.css?vue&type=style&index=0&id=4ba301c2&scoped=true&lang=css&\""],"sourceRoot":""}