{"version":3,"sources":["webpack:///./src/onekit/onekit.css?280d","webpack:///./src/packageAPI/pages/udp-socket/udp-socket.css","webpack:///./src/packageAPI/pages/udp-socket/udp-socket.vue?8e5e","webpack:///./src/packageAPI/pages/udp-socket/udp-socket.js","webpack:///./src/packageAPI/pages/udp-socket/udp-socket.js?2f76","webpack:///./src/packageAPI/pages/udp-socket/udp-socket.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","staticStyle","_v","_s","port","remote_port","_e","startUDP","on","handleSendMessage","changeMode","mode","handleInputChange","handleSendRemoteMessage","handleCloseUDPTap","canIUse","handleCreateUDPTap","staticRenderFns","AB2String","arrayBuffer","unit8Arr","Uint8Array","encodedString","String","fromCharCode","apply","decodedString","decodeURIComponent","escape","OnekitPage","onShareAppMessage","title","path","data","undefined","address","onLoad","wx","showModal","setData","UDPSocket","createUDPSocket","remoteUDPSocket","bind","onMessage","res","remoteInfo","console","log","content","message","close","send","e","detail","value","component"],"mappings":"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","file":"js/chunk-de5154cc.1b81e55a.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./onekit.css?vue&type=style&index=0&id=031bb8ea&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./onekit.css?vue&type=style&index=0&id=031bb8ea&scoped=true&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./udp-socket.css?vue&type=style&index=1&id=031bb8ea&scoped=scoped&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./udp-socket.css?vue&type=style&index=1&id=031bb8ea&scoped=scoped&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('onekit-page',[_c('import',{attrs:{\"src\":\"../../../common/head.vue\"}}),_c('import',{attrs:{\"src\":\"../../../common/foot.vue\"}}),_c('onekit-view',{staticClass:\"container\"},[_c('onekit-view',{staticClass:\"page-body\"},[(_vm.startUDP)?_c('onekit-view',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(\" 本机port: \"+_vm._s(_vm.port)+\" 模拟远程port: \"+_vm._s(_vm.remote_port)+\" \")]):_vm._e(),(!_vm.startUDP)?_c('onekit-view',{staticClass:\"btn-area\"},[_c('onekit-button',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.canIUse},on:{\":tap\":_vm.handleCreateUDPTap}},[_vm._v(\" 开启 UDPSocket \")])],1):_c('onekit-block',[_c('onekit-view',{staticClass:\"btn-area\"},[_c('onekit-button',{attrs:{\"type\":\"primary\"},on:{\":tap\":_vm.handleSendMessage}},[_vm._v(\" 本机发送测试 \")])],1),_c('onekit-view',{staticClass:\"btn-area\"},[_c('onekit-button',{attrs:{\"type\":\"primary\"},on:{\":tap\":_vm.changeMode}},[_vm._v(\" 远程发送测试 \")])],1),(_vm.mode === 'remote')?_c('onekit-block',[_c('onekit-input',{attrs:{\"placeholder\":\"请输入目标主机 IP 地址 默认: 127.0.0.1\"},on:{\":input\":_vm.handleInputChange}}),_c('onekit-view',{staticClass:\"btn-area\"},[_c('onekit-button',{attrs:{\"type\":\"primary\"},on:{\":tap\":_vm.handleSendRemoteMessage}},[_vm._v(\" 发送 \")])],1)],1):_vm._e(),_c('onekit-view',{staticClass:\"btn-area\"},[_c('onekit-button',{attrs:{\"type\":\"primary\"},on:{\":tap\":_vm.handleCloseUDPTap}},[_vm._v(\" 关闭 UDPSocket \")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import PAGE_JSON from './udp-socket.json';\nimport {OnekitApp,OnekitPage,OnekitComponent} from \"../../../onekit/onekit.js\";\nimport wx from \"../../../onekit/wx.js\";\nconst AB2String = (arrayBuffer)=>{\n    var unit8Arr = new Uint8Array(arrayBuffer);\n    var encodedString = String.fromCharCode.apply(null,unit8Arr),decodedString = decodeURIComponent(escape(encodedString));\n    return decodedString;\n};\nOnekitPage({\n    onShareAppMessage:function(){\n        return {\n            title:'UDPSocket',\n            path:'packageAPI/pages/udp-socket/udp-socket'\n        };\n    },\n    data:{\n        port:undefined,\n        remote_port:undefined,\n        startUDP:false,\n        mode:'local',\n        address:'localhost',\n        canIUse:true\n    },\n    onLoad:function(){\n        const canIUse = wx.canIUse('createUDPSocket');\n        if(!canIUse){\n            wx.showModal({\n                title:'微信版本过低，暂不支持本功能'\n            });\n            this.setData({\n                canIUse:canIUse\n            });\n        }\n    },\n    handleCreateUDPTap:function(){\n        this.UDPSocket = wx.createUDPSocket();\n        this.remoteUDPSocket = wx.createUDPSocket();\n        this.port = this.UDPSocket.bind();\n        this.remote_port = this.remoteUDPSocket.bind();\n        this.setData({\n            port:this.port,\n            remote_port:this.remote_port,\n            startUDP:true\n        });\n        this.remoteUDPSocket.onMessage((res)=>{\n            const {remoteInfo} = res;\n            console.log(res);\n            wx.showModal({\n                title:`IP:${remoteInfo.address}发来的信息`,\n                content:AB2String(res.message)\n            });\n        });\n    },\n    handleCloseUDPTap:function(){\n        this.setData({\n            startUDP:false,\n            mode:'local'\n        });\n        console.log(this.data);\n        this.UDPSocket.close();\n        this.remoteUDPSocket.close();\n    },\n    handleSendRemoteMessage:function(){\n        this.UDPSocket.send({\n            address:this.data.address || 'localhost',\n            port:this.remote_port,\n            message:`port[${this.port}] 向 remote-port[${this.remote_port}] 发送信息: Hello Wechat!`\n        });\n    },\n    changeMode:function(){\n        this.setData({\n            mode:'remote'\n        });\n    },\n    handleInputChange:function(e){\n        this.setData({\n            address:e.detail.value\n        });\n    },\n    handleSendMessage:function(){\n        this.UDPSocket.send({\n            address:'localhost',\n            port:this.remote_port,\n            message:`port[${this.port}] 向 remote-port[${this.remote_port}] 发送信息: Hello Wechat!`\n        });\n    }\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/eslint-loader/index.js??ref--13-0!./udp-socket.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/eslint-loader/index.js??ref--13-0!./udp-socket.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./udp-socket.vue?vue&type=template&id=031bb8ea&scoped=true&\"\nimport script from \"./udp-socket.js?vue&type=script&lang=js&\"\nexport * from \"./udp-socket.js?vue&type=script&lang=js&\"\nimport style0 from \"@/onekit/onekit.css?vue&type=style&index=0&id=031bb8ea&scoped=true&lang=css&\"\nimport style1 from \"./udp-socket.css?vue&type=style&index=1&id=031bb8ea&scoped=scoped&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"031bb8ea\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}