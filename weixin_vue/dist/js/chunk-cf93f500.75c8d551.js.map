{"version":3,"sources":["webpack:///./src/packageAPI/pages/file/file.vue?90c4","webpack:///./src/packageAPI/pages/file/file.js","webpack:///./src/packageAPI/pages/file/file.js?75fe","webpack:///./src/packageAPI/pages/file/file.vue","webpack:///./src/packageAPI/pages/file/file.css?fef6","webpack:///./src/onekit/onekit.css?c933"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","tempFilePath","_e","savedFilePath","on","chooseImage","_v","saveFile","clear","dialog","title","hidden","confirm","_s","content","staticRenderFns","OnekitPage","onShareAppMessage","path","onLoad","setData","wx","getStorageSync","data","that","count","success","res","tempFilePaths","length","setStorageSync","fail","component"],"mappings":"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","file":"js/chunk-cf93f500.75c8d551.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('onekit-page',[_c('import',{attrs:{\"src\":\"../../../common/head.vue\"}}),_c('import',{attrs:{\"src\":\"../../../common/foot.vue\"}}),_c('onekit-view',{staticClass:\"container\"},[_c('onekit-view',{staticClass:\"page-body\"},[_c('onekit-view',{staticClass:\"page-section\"},[_c('onekit-view',{staticClass:\"page-body-info\"},[(_vm.tempFilePath != '')?_c('onekit-block',[_c('onekit-image',{staticClass:\"image\",attrs:{\"src\":_vm.tempFilePath,\"mode\":\"aspectFit\"}})],1):_vm._e(),(_vm.tempFilePath === '' && _vm.savedFilePath != '')?_c('onekit-block',[_c('onekit-image',{staticClass:\"image\",attrs:{\"src\":_vm.savedFilePath,\"mode\":\"aspectFit\"}})],1):_vm._e(),(_vm.tempFilePath === '' && _vm.savedFilePath === '')?_c('onekit-block',[_c('onekit-view',{staticClass:\"image-plus image-plus-nb\",on:{\"tap\":_vm.chooseImage}},[_c('onekit-view',{staticClass:\"image-plus-horizontal\"}),_c('onekit-view',{staticClass:\"image-plus-vertical\"})],1),_c('onekit-view',{staticClass:\"image-plus-text\"},[_vm._v(\"请选择文件\")])],1):_vm._e()],1),_c('onekit-view',{staticClass:\"btn-area\"},[_c('onekit-button',{attrs:{\"type\":\"primary\"},on:{\"tap\":_vm.saveFile}},[_vm._v(\"保存文件\")]),_c('onekit-button',{on:{\"tap\":_vm.clear}},[_vm._v(\"删除文件\")])],1)],1)],1),_c('onekit-modal',{attrs:{\"title\":_vm.dialog.title,\"hidden\":_vm.dialog.hidden,\"no-cancel\":\"\"},on:{\"confirm\":_vm.confirm}},[_vm._v(_vm._s(_vm.dialog.content))])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import PAGE_JSON from './file.json';\nimport {OnekitApp,OnekitPage,OnekitComponent} from \"../../../onekit/onekit.js\";\nimport wx from \"../../../onekit/wx.js\";\nOnekitPage({\n    onShareAppMessage:function(){\n        return {\n            title:'文件',\n            path:'packageAPI/pages/file/file'\n        };\n    },\n    onLoad:function(){\n        this.setData({\n            savedFilePath:wx.getStorageSync('savedFilePath')\n        });\n    },\n    data:{\n        tempFilePath:'',\n        savedFilePath:'',\n        dialog:{\n            hidden:true\n        }\n    },\n    chooseImage:function(){\n        const that = this;\n        wx.chooseImage({\n            count:1,\n            success:function(res){\n                that.setData({\n                    tempFilePath:res.tempFilePaths[0]\n                });\n            }\n        });\n    },\n    saveFile:function(){\n        if(this.data.tempFilePath.length > 0){\n            const that = this;\n            wx.saveFile({\n                tempFilePath:this.data.tempFilePath,\n                success:function(res){\n                    that.setData({\n                        savedFilePath:res.savedFilePath\n                    });\n                    wx.setStorageSync('savedFilePath',res.savedFilePath);\n                    that.setData({\n                        dialog:{\n                            title:'保存成功',\n                            content:'下次进入应用时，此文件仍可用',\n                            hidden:false\n                        }\n                    });\n                },\n                fail:function(){\n                    that.setData({\n                        dialog:{\n                            title:'保存失败',\n                            content:'应该是有 bug 吧',\n                            hidden:false\n                        }\n                    });\n                }\n            });\n        }\n    },\n    clear:function(){\n        wx.setStorageSync('savedFilePath','');\n        this.setData({\n            tempFilePath:'',\n            savedFilePath:''\n        });\n    },\n    confirm:function(){\n        this.setData({\n            'dialog.hidden':true\n        });\n    }\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/eslint-loader/index.js??ref--13-0!./file.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/eslint-loader/index.js??ref--13-0!./file.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./file.vue?vue&type=template&id=7dfac978&scoped=true&\"\nimport script from \"./file.js?vue&type=script&lang=js&\"\nexport * from \"./file.js?vue&type=script&lang=js&\"\nimport style0 from \"@/onekit/onekit.css?vue&type=style&index=0&id=7dfac978&scoped=true&lang=css&\"\nimport style1 from \"./file.css?vue&type=style&index=1&id=7dfac978&scoped=scoped&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7dfac978\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./file.css?vue&type=style&index=1&id=7dfac978&scoped=scoped&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./file.css?vue&type=style&index=1&id=7dfac978&scoped=scoped&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./onekit.css?vue&type=style&index=0&id=7dfac978&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./onekit.css?vue&type=style&index=0&id=7dfac978&scoped=true&lang=css&\""],"sourceRoot":""}