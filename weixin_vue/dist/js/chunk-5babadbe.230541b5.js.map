{"version":3,"sources":["webpack:///./src/onekit/onekit.css?2c2b","webpack:///./src/packageAPI/pages/mdns/mdns.vue?5e6a","webpack:///./src/packageAPI/pages/mdns/mdns.js","webpack:///./src/packageAPI/pages/mdns/mdns.js?9aa6","webpack:///./src/packageAPI/pages/mdns/mdns.vue","webpack:///./src/packageAPI/pages/mdns/mdns.css?9380"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","on","startDiscovery","_v","stopDiscovery","_l","item","index","_s","serviceName","ip","port","serviceType","staticRenderFns","serviceList","resolveFailList","OnekitPage","onShareAppMessage","title","path","daga","onShow","onLocalService","wx","startLocalServiceDiscovery","success","res","console","log","showToast","icon","duration","fail","err","complete","that","stopLocalServiceDiscovery","setData","onLocalServiceFound","obj","push","onLocalServiceResolveFail","onLocalServiceLost","onLocalServiceDiscoveryStop","offLocalService","offLocalServiceFound","offLocalServiceResolveFail","offLocalServiceLost","offLocalServiceDiscoveryStop","component"],"mappings":"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","file":"js/chunk-5babadbe.230541b5.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./onekit.css?vue&type=style&index=0&id=50766ffb&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./onekit.css?vue&type=style&index=0&id=50766ffb&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('onekit-page',[_c('import',{attrs:{\"src\":\"../../../common/head.vue\"}}),_c('import',{attrs:{\"src\":\"../../../common/foot.vue\"}}),_c('onekit-view',{staticClass:\"container\"},[_c('onekit-view',{staticClass:\"page-body\"},[_c('onekit-view',{staticClass:\"page-section\"},[_c('onekit-button',{attrs:{\"type\":\"primary\"},on:{\":tap\":_vm.startDiscovery}},[_vm._v(\" 开始搜索 mDNS \")]),_c('onekit-button',{attrs:{\"type\":\"primary\"},on:{\":tap\":_vm.stopDiscovery}},[_vm._v(\" 停止搜索 mDNS \")]),_c('onekit-view',_vm._l((_vm.serviceList),function(item,index){return _c('onekit-view',{staticClass:\"row\"},[_c('onekit-text',[_vm._v(\"设备服务名：\"+_vm._s(item.serviceName))]),_c('onekit-text',[_vm._v(\"ip地址：\"+_vm._s(item.ip)+\":\"+_vm._s(item.port))]),_c('onekit-text',[_vm._v(\"当前服务类型：\"+_vm._s(item.serviceType))])],1)}),1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import PAGE_JSON from './mdns.json';\nimport {OnekitApp,OnekitPage,OnekitComponent} from \"../../../onekit/onekit.js\";\nimport wx from \"../../../onekit/wx.js\";\nvar serviceList = [\n];\nvar resolveFailList = [\n];\nOnekitPage({\n    onShareAppMessage:function(){\n        return {\n            title:'mdns',\n            path:'packageAPI/pages/mdns/mdns'\n        };\n    },\n    daga:{\n        serviceList:[\n        ],\n        resolveFailList:[\n        ]\n    },\n    onShow:function(){\n        this.onLocalService();\n    },\n    startDiscovery:function(){\n        wx.startLocalServiceDiscovery({\n            serviceType:'_http._tcp.',\n            success:function(res){\n                console.log(res);\n                wx.showToast({\n                    title:'开启成功',\n                    icon:'none',\n                    duration:2000\n                });\n            },\n            fail:(err)=>{\n                wx.showToast({\n                    title:'开启失败',\n                    icon:'none',\n                    duration:2000\n                });\n                console.log(err);\n            },\n            complete:()=>{console.log('startDiscovery: complete')}\n        });\n    },\n    stopDiscovery:function(){\n        const that = this;\n        wx.stopLocalServiceDiscovery({\n            success:(res)=>{\n                wx.showToast({\n                    title:'关闭成功',\n                    icon:'none',\n                    duration:2000\n                });\n                serviceList = [\n                ];\n                resolveFailList = [\n                ];\n                that.setData({\n                    serviceList:[\n                    ],\n                    resolveFailList:[\n                    ]\n                });\n            },\n            fail:()=>{\n                console.log('stopDiscovery: fail');\n                wx.showToast({\n                    title:'关闭失败',\n                    icon:'none',\n                    duration:2000\n                });\n            },\n            complete:()=>{console.log('stopDIscovery: complete')}\n        });\n    },\n    onLocalService:function(){\n        var that = this;\n        wx.onLocalServiceFound(function(obj){\n            console.log(obj);\n            serviceList.push(obj);\n            that.setData({\n                serviceList:serviceList\n            });\n        });\n        wx.onLocalServiceResolveFail(function(obj){\n            console.log(obj);\n            resolveFailList.push(obj);\n            that.setData({\n                resolveFailList:resolveFailList\n            });\n        });\n        wx.onLocalServiceLost(function(obj){\n            console.log(obj);\n        });\n        wx.onLocalServiceDiscoveryStop(function(obj){\n            console.log('监听到搜索停止事件');\n        });\n    },\n    offLocalService:function(){\n        console.log('是否执行此部分数据');\n        wx.offLocalServiceFound(function(){\n            console.log('取消监听服务发现事件 成功');\n        });\n        wx.offLocalServiceResolveFail(function(){\n            console.log('取消监听 mDNS 服务解析失败的事件 成功');\n        });\n        wx.offLocalServiceLost(function(){\n            console.log('取消监听服务离开事件 成功');\n        });\n        wx.offLocalServiceDiscoveryStop(function(){\n            console.log('取消监听 mDNS 服务停止搜索的事件 成功');\n        });\n    }\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/eslint-loader/index.js??ref--13-0!./mdns.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/eslint-loader/index.js??ref--13-0!./mdns.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mdns.vue?vue&type=template&id=50766ffb&scoped=true&\"\nimport script from \"./mdns.js?vue&type=script&lang=js&\"\nexport * from \"./mdns.js?vue&type=script&lang=js&\"\nimport style0 from \"@/onekit/onekit.css?vue&type=style&index=0&id=50766ffb&scoped=true&lang=css&\"\nimport style1 from \"./mdns.css?vue&type=style&index=1&id=50766ffb&scoped=scoped&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"50766ffb\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./mdns.css?vue&type=style&index=1&id=50766ffb&scoped=scoped&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./mdns.css?vue&type=style&index=1&id=50766ffb&scoped=scoped&lang=css&\""],"sourceRoot":""}