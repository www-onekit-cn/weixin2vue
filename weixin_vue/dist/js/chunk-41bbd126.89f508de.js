(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41bbd126"],{"1e95":function(e,t,i){},3347:function(e,t,i){"use strict";var a=i("1e95"),l=i.n(a);l.a},"5b72":function(e,t,i){"use strict";var a=i("67f9"),l=i.n(a);l.a},"67f9":function(e,t,i){},a15e:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("onekit-page",[i("import",{attrs:{src:"../../../common/head.vue"}}),i("import",{attrs:{src:"../../../common/foot.vue"}}),i("onekit-view",{staticClass:"container"},[i("onekit-view",{staticClass:"page-body"},[i("onekit-view",{staticClass:"page-section"},[e.fileTempURLDone?i("onekit-block",[i("onekit-view",{staticClass:"weui-cells weui-cells_after-title"},[i("onekit-view",{staticClass:"weui-cell weui-cell_input"},[i("onekit-view",{staticClass:"weui-cell__hd"},[i("onekit-view",{staticClass:"weui-label"},[e._v("文件 ID")])],1),i("onekit-view",{staticClass:"weui-cell__bd"},[i("onekit-textarea",{staticClass:"weui-textarea",staticStyle:{height:"3.3em"},attrs:{value:e.fileId,disabled:""}})],1)],1),i("onekit-view",{staticClass:"weui-cell weui-cell_input"},[i("onekit-view",{staticClass:"weui-cell__hd"},[i("onekit-view",{staticClass:"weui-label"},[e._v("临时链接")])],1),i("onekit-view",{staticClass:"weui-cell__bd"},[i("onekit-textarea",{staticClass:"weui-textarea",staticStyle:{height:"3.3em"},attrs:{value:e.tempFileURL,disabled:""}})],1)],1),i("onekit-view",{staticClass:"weui-cell"},[i("onekit-view",{staticClass:"page-section-ctn"},[i("onekit-image",{staticClass:"image",attrs:{src:e.tempFileURL,mode:"aspectFit"}})],1)],1)],1)],1):i("onekit-block",[i("onekit-view",{staticClass:"weui-cells__title"},[e._v("云函数亦可操作文件存储，点击按钮换取临时链接")]),i("onekit-view",{staticClass:"weui-cells weui-cells_after-title"},[i("onekit-view",{staticClass:"weui-cell weui-cell_input"},[i("onekit-view",{staticClass:"weui-cell__hd"},[i("onekit-view",{staticClass:"weui-label"},[e._v("文件 ID")])],1),i("onekit-view",{staticClass:"weui-cell__bd"},[i("onekit-textarea",{staticClass:"weui-textarea",staticStyle:{height:"3.3em"},attrs:{value:e.fileId,disabled:""}})],1)],1)],1),i("onekit-view",{staticClass:"btn-area"},[i("onekit-button",{attrs:{type:"primary",size:"40",loading:e.loading},on:{tap:e.getTempFileURL}},[e._v("通过云函数换取临时链接")])],1)],1)],1)],1)],1)],1)},l=[],s=i("711f"),n=i("79f0"),o=i("db49").demoImageFileId,c=getApp();Object(s["OnekitPage"])({onShareAppMessage:function(){return{title:"云函数操作存储",path:"page/cloud/pages/scf-storage/scf-storage"}},data:{fileTempURLDone:!1,fileId:"",tempFileURL:"",loading:!1},onLoad:function(){this.setData({fileId:c.globalData.fileId||o})},getTempFileURL:function(){var e=this,t=this.data.fileId;t&&(this.setData({loading:!0}),n["a"].cloud.callFunction({name:"getTempFileURL",data:{fileIdList:[t]},success:function(t){console.log("[云函数] [getTempFileURL] res: ",t.result),t.result.length&&e.setData({fileTempURLDone:!0,tempFileURL:t.result[0].tempFileURL})},fail:function(e){console.error("[云函数] [getTempFileURL] 调用失败",e)},complete:function(){e.setData({loading:!1})}}))}});var r=void 0,u=(i("3347"),i("5b72"),i("2877")),d=Object(u["a"])(r,a,l,!1,null,"996ea9da",null);t["default"]=d.exports},db49:function(e,t,i){"use strict";i.r(t),function(e){i("711f"),i("79f0");var t="14592619.qcloud.la",a={requestUrl:"https://mp.weixin.qq.com",host:t,envId:"release-b86096",demoImageFileId:"cloud://release-b86096.7265-release-b86096-1258211818/demo.jpg",demoVideoFileId:"cloud://release-b86096.7265-release-b86096/demo.mp4"};e.exports=a}.call(this,i("dd40")(e))},dd40:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}}}]);
//# sourceMappingURL=chunk-41bbd126.89f508de.js.map